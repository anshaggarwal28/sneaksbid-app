<!-- item_detail.html -->
{% extends 'base.html' %}

{% block content %}
<h1>{{ item.title }}</h1>
<p>{{ item.description }}</p>
<p>Base Price: ${{ item.base_price }}</p>
{% if item.is_auction_active %}
<p>Auction ends in: {{ item.auction_end_time|timesince:now }}.</p>
<form method="post" action="{% url 'place_bid' item.id %}">
        {% csrf_token %}
<input type="number" name="bid_amount" step="0.01" min="{{ item.bids.last.bid_amount|default_if_none:item.base_price|add:"0.01" }}" required>
<button type="submit">Place Bid</button>
</form>
{% else %}
<p>Auction starts in: {{ item.auction_start_time|timeuntil:now }}.</p>
{% endif %}
{% endblock %}